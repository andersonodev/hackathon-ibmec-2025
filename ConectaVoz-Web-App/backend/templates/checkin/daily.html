{% extends 'base/layout.html' %}

{% block title %}Check-in Diário - Conecta Voz{% endblock %}

{% block content_title %}Check-in Diário{% endblock %}
{% block content_subtitle %}Registre como você está se sentindo hoje. Seu bem-estar importa e seus dados ajudam a melhorar o ambiente para todos.{% endblock %}

{% block content %}
<div class="checkin-container">
    <div class="loading-text">Carregando check-in diário...</div>
    
    <div class="cards-grid">
        <div class="info-card blue">
            <div class="card-icon blue">🔒</div>
            <div class="card-title">Anonimato Garantido</div>
            <div class="card-description">
                Seus dados são protegidos por pseudônimos e k-anonimato (mínimo 5 pessoas)
            </div>
        </div>

        <div class="info-card green">
            <div class="card-icon green">💬</div>
            <div class="card-title">Seu Conecta Escuta</div>
            <div class="card-description">
                Um colaborador eleito democraticamente pela equipe para ser seu mediador e representante
            </div>
        </div>

        <div class="info-card yellow">
            <div class="card-icon yellow">💖</div>
            <div class="card-title">Ambiente Melhor</div>
            <div class="card-description">
                Sua contribuição ajuda a evoluir nosso clima organizacional
            </div>
        </div>

        <div class="info-card purple">
            <div class="card-icon purple">👥</div>
            <div class="card-title">Sua Equipe</div>
            <div class="card-description">
                Acompanhe o clima da equipe no mural e fortaleça o coletivo
            </div>
        </div>
    </div>
</div>

<style>
    .checkin-container {
        max-width: 800px;
        margin: 0 auto;
    }

    .mood-selector {
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
        text-align: center;
    }

    .mood-title {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 20px;
        color: #333;
    }

    .mood-options {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 30px 0;
    }

    .mood-option {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        border: 3px solid #e5e5e5;
        background: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 36px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .mood-option:hover {
        border-color: #05c0cc;
        transform: scale(1.1);
    }

    .mood-option.selected {
        border-color: #05c0cc;
        background: #05c0cc20;
    }

    .comment-section {
        margin: 30px 0;
    }

    .comment-input {
        width: 100%;
        padding: 15px;
        border: 2px solid #e5e5e5;
        border-radius: 10px;
        font-size: 16px;
        resize: vertical;
        min-height: 100px;
    }

    .submit-button {
        background: #05c0cc;
        color: white;
        border: none;
        padding: 15px 30px;
        border-radius: 10px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .submit-button:hover {
        background: #048a94;
        transform: translateY(-2px);
    }

    .submit-button:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
    }
</style>

<script>
    // Simular carregamento
    setTimeout(() => {
        document.querySelector('.loading-text').style.display = 'none';
        showCheckinForm();
    }, 1000);

    function showCheckinForm() {
        const container = document.querySelector('.checkin-container');
        
        const form = document.createElement('div');
        form.className = 'mood-selector';
        form.innerHTML = `
            <h3 class="mood-title">Como você está se sentindo hoje?</h3>
            <div class="mood-options">
                <div class="mood-option" data-mood="1" title="Muito mal">😫</div>
                <div class="mood-option" data-mood="2" title="Mal">😔</div>
                <div class="mood-option" data-mood="3" title="Neutro">😐</div>
                <div class="mood-option" data-mood="4" title="Bem">😊</div>
                <div class="mood-option" data-mood="5" title="Muito bem">😄</div>
            </div>
            <div class="comment-section">
                <textarea class="comment-input" placeholder="Comentário opcional sobre seu dia..."></textarea>
            </div>
            <button class="submit-button" disabled onclick="submitCheckin()">Registrar Check-in</button>
        `;
        
        container.insertBefore(form, container.firstChild);
        
        // Add event listeners
        document.querySelectorAll('.mood-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.mood-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
                document.querySelector('.submit-button').disabled = false;
            });
        });
    }

    function submitCheckin() {
        const selected = document.querySelector('.mood-option.selected');
        const comment = document.querySelector('.comment-input').value;
        
        if (selected) {
            const mood = selected.dataset.mood;
            // Aqui faria a chamada para a API
            alert(`Check-in registrado! Humor: ${mood}/5${comment ? '\nComentário: ' + comment : ''}`);
        }
    }
</script>
{% endblock %}
